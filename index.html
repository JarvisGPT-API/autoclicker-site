<!DOCTYPE html>
<html lang="ru">
<head>
<meta charset="UTF-8">
<meta name="viewport" content="width=device-width, initial-scale=1.0">
<title>WOW ‚Äî –°–ª–æ–≤–∞</title>

<style>
body {
  margin: 0;
  font-family: system-ui, sans-serif;
  background: radial-gradient(circle at top, #0b1a2a, #020617);
  color: white;
  text-align: center;
}

h1 { margin: 15px; }

#level { opacity: 0.7; }

#current {
  font-size: 28px;
  min-height: 40px;
  margin: 15px;
}

#circle {
  position: relative;
  width: 220px;
  height: 220px;
  margin: 20px auto;
  border-radius: 50%;
  background: rgba(255,255,255,0.05);
}

.letter {
  position: absolute;
  width: 55px;
  height: 55px;
  background: #2563eb;
  border-radius: 50%;
  display: flex;
  align-items: center;
  justify-content: center;
  font-size: 26px;
  font-weight: bold;
  cursor: pointer;
  user-select: none;
}

button {
  background: #22c55e;
  border: none;
  padding: 14px 20px;
  border-radius: 14px;
  font-size: 16px;
  color: white;
  margin: 8px;
}

#words {
  margin-top: 20px;
  display: grid;
  gap: 10px;
  justify-content: center;
}

.word {
  display: flex;
  gap: 8px;
  justify-content: center;
}

.cell {
  width: 34px;
  height: 40px;
  border-radius: 6px;
  border: 2px solid rgba(255,255,255,0.4);
  display: flex;
  align-items: center;
  justify-content: center;
  font-size: 22px;
}
</style>
</head>

<body>

<h1>WOW ‚Äî –û—Ç–≥–∞–¥–∞–π —Å–ª–æ–≤–∞</h1>
<div id="level">–£—Ä–æ–≤–µ–Ω—å: 1</div>

<div id="current"></div>

<div id="circle"></div>

<button onclick="checkWord()">–ü—Ä–æ–≤–µ—Ä–∏—Ç—å</button>
<button onclick="clearWord()">–û—á–∏—Å—Ç–∏—Ç—å</button>

<div id="words"></div>

<script>
const levels = [
  { letters: ["–ö","–û","–¢"], words: ["–ö–û–¢","–¢–û–ö"] },
  { letters: ["–î","–û","–ú"], words: ["–î–û–ú","–ú–û–î"] },
  { letters: ["–°","–û","–ö"], words: ["–°–û–ö","–ö–û–°"] }
];

let level = 0;
let current = "";
let found = [];

const levelDiv = document.getElementById("level");
const currentDiv = document.getElementById("current");
const circle = document.getElementById("circle");
const wordsDiv = document.getElementById("words");

function loadLevel() {
  current = "";
  found = [];
  circle.innerHTML = "";
  wordsDiv.innerHTML = "";
  levelDiv.textContent = "–£—Ä–æ–≤–µ–Ω—å: " + (level + 1);
  updateCurrent();

  const letters = levels[level].letters;
  const words = levels[level].words;

  // –±—É–∫–≤—ã –ø–æ –∫—Ä—É–≥—É
  const radius = 80;
  letters.forEach((l, i) => {
    const angle = (2 * Math.PI / letters.length) * i;
    const x = 110 + radius * Math.cos(angle) - 27;
    const y = 110 + radius * Math.sin(angle) - 27;

    const btn = document.createElement("div");
    btn.className = "letter";
    btn.style.left = x + "px";
    btn.style.top = y + "px";
    btn.textContent = l;
    btn.onclick = () => {
      current += l;
      updateCurrent();
    };
    circle.appendChild(btn);
  });

  // –ø—É—Å—Ç—ã–µ –∫–≤–∞–¥—Ä–∞—Ç—ã —Å–ª–æ–≤
  words.forEach(word => {
    const row = document.createElement("div");
    row.className = "word";
    row.dataset.word = word;

    for (let i = 0; i < word.length; i++) {
      const cell = document.createElement("div");
      cell.className = "cell";
      row.appendChild(cell);
    }

    wordsDiv.appendChild(row);
  });
}

function updateCurrent() {
  currentDiv.textContent = current;
}

function clearWord() {
  current = "";
  updateCurrent();
}

function checkWord() {
  const words = levels[level].words;
  if (words.includes(current) && !found.includes(current)) {
    found.push(current);

    const rows = document.querySelectorAll(".word");
    rows.forEach(row => {
      if (row.dataset.word === current) {
        [...row.children].forEach((cell, i) => {
          cell.textContent = current[i];
        });
      }
    });
  }

  clearWord();

  if (found.length === words.length) {
    setTimeout(() => {
      level++;
      if (level < levels.length) {
        loadLevel();
      } else {
        alert("üéâ –í—Å–µ —É—Ä–æ–≤–Ω–∏ –ø—Ä–æ–π–¥–µ–Ω—ã!");
      }
    }, 600);
  }
}

loadLevel();
</script>

</body>
</html>
